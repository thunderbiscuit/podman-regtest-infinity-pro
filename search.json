{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"About","text":"<p>This isn't just your run-of-the-mill, typical Podman Regtest Infinity setup... it's the Podman Regtest Infinity Pro!</p> <p>The goal of this project is to provide bitcoin software developers a simple and powerful regtest setup always at the ready and easy to power up and down in just a few seconds. For a quick overview of how the setup works once its enabled, check out this YouTube video.</p> <p>Once up, the Podman container offers:</p> <ul> <li>A full bitcoin core node in daemon mode</li> <li>An Electrum server ready to connect to</li> <li>An Esplora server ready to connect to</li> <li>A simple block explorer</li> <li>The node has compact block filter enabled</li> <li>Awesome <code>just</code> commands to get stuff done</li> </ul> <p></p> <p>Here are examples of what you can do from your command line once the container is up and running:</p> <pre><code># Send coins\njust sendto &lt;address&gt;\n\n# Mine any number of blocks\njust mine 21\n\n# See logs for different services\njust bitcoindlogs\n</code></pre>","path":["About"],"tags":[]},{"location":"architecture/","level":1,"title":"Architecture","text":"<p>This page provides technical details about how the Podman Regtest Infinity Pro environment is structured and how its components interact.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#overview","level":2,"title":"Overview","text":"<p>The environment consists of a single Podman container running multiple Bitcoin-related services that work together to provide a complete regtest development environment. All services run on a Debian Bookworm base image.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#container-architecture","level":2,"title":"Container Architecture","text":"<pre><code>┌───────────────────────────────────────────────────────────────────┐\n│ Podman Container: RegtestInfinityPro                              │\n│                                                                   │\n│  ┌─────────────────────────────────────────────────────────────┐  │\n│  │ Bitcoin Core Daemon (bitcoind)                              │  │\n│  │ - Port: 18443 (RPC), 18444 (P2P)                            │  │\n│  │ - username: regtest, password: password                     │  │\n│  │ - txindex, blockfilterindex, compact block filters          │  │\n│  └─────────────────────────────────────────────────────────────┘  │\n│         │                                                         │\n│         │ (RPC connections)                                       │\n│         ├──────────────┬───────────────┬───────────────┐          │\n│         ▼              ▼               ▼               ▼          │\n│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐  │\n│  │ Electrum    │ │ Esplora     │ │ Block       │ │ External    │  │\n│  │ Server      │ │ Server      │ │ Explorer    │ │ Tools       │  │\n│  │ (electrs)   │ │ (electrs)   │ │ (fbbe)      │ │ (bitcoin-   │  │\n│  │             │ │             │ │             │ │ cli)        │  │\n│  │ Port: 60401 │ │ Port: 3002  │ │ Port: 3003  │ │             │  │\n│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘  │\n│                                                                   │\n└───────────────────────────────────────────────────────────────────┘\n         │              │              │\n         │              │              │\n         ▼              ▼              ▼\n    Your Bitcoin   Your Web     Block Explorer\n      Wallet       Application    in Browser\n</code></pre>","path":["Architecture"],"tags":[]},{"location":"architecture/#services","level":2,"title":"Services","text":"","path":["Architecture"],"tags":[]},{"location":"architecture/#1-bitcoin-core-daemon","level":3,"title":"1. Bitcoin Core Daemon","text":"<p>Purpose: The backbone of the environment, running a full Bitcoin node in regtest mode.</p> <p>Configuration: - Chain: <code>regtest</code> - RPC Port: <code>18443</code> - P2P Port: <code>18444</code> (not typically used in regtest) - Authentication: Cookie-based - Special features:   - <code>txindex</code>: Full transaction index for looking up any transaction   - <code>blockfilterindex</code>: Indexes for compact block filters   - <code>peerblockfilters</code>: Serves compact block filters to peers   - REST API enabled</p> <p>Location in Container: <code>/opt/bitcoin-{VERSION}/bin/bitcoind</code></p> <p>Data Directory: <code>/root/.bitcoin/regtest/</code></p> <p>Startup: Automatically started by <code>start-services.sh</code> with output redirected to <code>/root/log/bitcoin.log</code></p>","path":["Architecture"],"tags":[]},{"location":"architecture/#2-electrum-server-electrs","level":3,"title":"2. Electrum Server (electrs)","text":"<p>Configuration: - Port: <code>60401</code> (Electrum RPC) - Network: <code>regtest</code> - Mode: <code>lightmode</code> (faster indexing for regtest) - Daemon directory: <code>/root/.bitcoin/</code></p> <p>Repository: Blockstream/electrs (branch: <code>new-index</code>)</p> <p>Location in Container: <code>/root/electrs/target/release/electrs</code></p> <p>Startup: Started by <code>start-services.sh</code> with verbose logging (<code>-vvvv</code>) to <code>/root/log/esplora.log</code></p> <p>Use Cases: - Testing Bitcoin wallets that use Electrum protocol - SPV wallet development - Mobile wallet testing</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#3-esplora-server-electrs-http-api","level":3,"title":"3. Esplora Server (electrs HTTP API)","text":"<p>Configuration: - Port: <code>3002</code> (HTTP) - Network: <code>regtest</code> - Mode: <code>lightmode</code></p> <p>Repository: Same as Electrum server (electrs provides both services)</p> <p>Startup: Same process as Electrum server (electrs serves both protocols)</p> <p>API Endpoints: - <code>/blocks/tip/height</code> - Get current blockchain height - <code>/block/{hash}</code> - Get block by hash - <code>/block/{hash}/txs</code> - Get transactions in a block - <code>/tx/{txid}</code> - Get transaction details - <code>/address/{address}</code> - Get address information - <code>/address/{address}/txs</code> - Get address transactions - <code>/fee-estimates</code> - Get fee estimates</p> <p>Use Cases: - Testing web applications that consume blockchain data - Mobile app backend testing - Block explorer integration</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#4-fast-bitcoin-block-explorer-fbbe","level":3,"title":"4. Fast Bitcoin Block Explorer (fbbe)","text":"<p>Configuration: - Port: <code>3003</code> - Network: <code>regtest</code> - Listen address: <code>0.0.0.0:3003</code></p> <p>Repository: RCasatta/fbbe</p> <p>Location in Container: <code>/root/fbbe/target/release/fbbe</code></p> <p>Startup: Started by <code>start-services.sh</code> with output to <code>/root/log/fbbe.log</code></p> <p>Use Cases: - Visual inspection of blocks and transactions - Debugging transaction issues - Verifying confirmations</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#port-mapping","level":2,"title":"Port Mapping","text":"<p>The container exposes the following ports to the host:</p> Service Internal Port Host Port Protocol Purpose Bitcoin Core RPC 18443 18443 HTTP RPC commands Bitcoin Core P2P 18444 18444 TCP P2P network (unused in regtest) Esplora API 3002 3002 HTTP REST API for blockchain data Block Explorer 3003 3003 HTTP Web UI for browsing blocks Electrum Server 60401 60401 TCP Electrum protocol","path":["Architecture"],"tags":[]},{"location":"architecture/#android-emulator-access","level":3,"title":"Android Emulator Access","text":"<p>Android emulators can access the container services using the special IP <code>10.0.2.2</code>: - Electrum: <code>tcp://10.0.2.2:60401</code> - Esplora: <code>http://10.0.2.2:3002</code></p>","path":["Architecture"],"tags":[]},{"location":"architecture/#distribution","level":2,"title":"Distribution","text":"<p>Pre-built container images are automatically published to GitHub Container Registry (ghcr.io) when new versions are tagged. This allows users to skip the lengthy build process and pull ready-to-use images directly.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#published-images","level":3,"title":"Published Images","text":"<p>Images are available at: <pre><code>ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:{version}\n</code></pre></p>","path":["Architecture"],"tags":[]},{"location":"architecture/#available-versions","level":3,"title":"Available Versions","text":"<ul> <li><code>0.3.0</code> - Specific version (full semantic versioning)</li> </ul>","path":["Architecture"],"tags":[]},{"location":"architecture/#publishing-workflow","level":3,"title":"Publishing Workflow","text":"<p>Images are published automatically via GitHub Actions when tags are pushed:</p> <ol> <li>Trigger: Push a tag matching <code>v*</code> (e.g., <code>v1.1.0</code>)</li> <li>Build: GitHub Actions builds the container using Docker Buildx</li> <li>Push: Image is pushed to ghcr.io with the exact version tag</li> <li>Cache: Build cache is stored to speed up subsequent builds</li> </ol> <p>Manual builds via <code>workflow_dispatch</code> create a <code>test</code> tag for development purposes.</p> <p>The workflow uses: - Bitcoin Core version: <code>28.1</code> (default) - Target architecture: <code>x86_64-linux-gnu</code> (default for CI)</p> <p>See <code>.github/workflows/publish-container.yml</code> for the complete workflow configuration.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#benefits-for-cicd","level":3,"title":"Benefits for CI/CD","text":"<p>Using pre-built images in continuous integration: - Fast: Pull in seconds vs 15-30 minute build - Reproducible: Same image across all environments - Resource-efficient: Saves CI runner time and compute - Free: GitHub Container Registry is free for public repos</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#build-process","level":2,"title":"Build Process","text":"<p>The container is built using the Containerfile with two important build arguments:</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#build-arguments","level":3,"title":"Build Arguments","text":"<p>BITCOIN_VERSION: Specifies which version of Bitcoin Core to install - Examples: <code>28.1</code>, <code>27.0</code>, <code>29.0</code> - Downloads from: <code>https://bitcoincore.org/bin/bitcoin-core-{VERSION}/</code></p> <p>TARGET_ARCH: Specifies the architecture of Bitcoin Core binaries - Examples: <code>x86_64-linux-gnu</code>, <code>aarch64-linux-gnu</code>, <code>arm64-apple-darwin</code> - Must match available builds at bitcoincore.org</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#build-stages","level":3,"title":"Build Stages","text":"<ol> <li>Base Setup: Debian Bookworm with wget</li> <li>Bitcoin Core Installation:</li> <li>Downloads specified version and architecture</li> <li>Extracts to <code>/opt/bitcoin-{VERSION}/</code></li> <li>Symlinks binaries to <code>/usr/local/bin/</code></li> <li>Dependency Installation:</li> <li>Build tools (curl, git, build-essential)</li> <li>Rust toolchain (version 1.75.0)</li> <li>OpenSSL and libclang for Rust builds</li> <li>Electrs Build:</li> <li>Clones from Blockstream/electrs</li> <li>Checks out <code>new-index</code> branch</li> <li>Builds in release mode</li> <li>FBBE Build:</li> <li>Clones from RCasatta/fbbe</li> <li>Builds in release mode with Rust 1.75.0</li> <li>Startup Script: Copies <code>start-services.sh</code> as entrypoint</li> </ol>","path":["Architecture"],"tags":[]},{"location":"architecture/#startup-sequence","level":2,"title":"Startup Sequence","text":"<p>When the container starts, the <code>start-services.sh</code> script executes:</p> <ol> <li>Create Log Directory (<code>~/log/</code>)</li> <li>Start Bitcoin Core Daemon</li> <li>Runs in background with logging to <code>bitcoin.log</code></li> <li>Waits 10 seconds for initialization</li> <li>Start Block Explorer (fbbe)</li> <li>Runs in background with logging to <code>fbbe.log</code></li> <li>Waits 10 seconds for initialization</li> <li>Start Electrs (Electrum + Esplora)</li> <li>Runs in background with logging to <code>esplora.log</code></li> <li>Waits 10 seconds for initialization</li> <li>Create and Fund Faucet Wallet</li> <li>Creates a wallet named <code>faucet</code> with <code>load_on_startup=true</code></li> <li>Generates a new address from the faucet wallet</li> <li>Mines 101 blocks to the faucet address</li> <li>This provides mature coins for instant funding of test wallets</li> </ol>","path":["Architecture"],"tags":[]},{"location":"architecture/#resource-requirements","level":2,"title":"Resource Requirements","text":"","path":["Architecture"],"tags":[]},{"location":"architecture/#minimum-resources","level":3,"title":"Minimum Resources","text":"<p>Based on the <code>podman machine init</code> command in the install docs: - CPUs: 4 cores - Memory: 4096 MB (4 GB) - Disk: 20 GB</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#actual-usage","level":3,"title":"Actual Usage","text":"<p>The actual resource usage is typically lower: - Bitcoin Core in regtest mode uses minimal resources - Electrs indexing is fast in lightmode - Total container size after build: ~2-3 GB</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#data-persistence","level":2,"title":"Data Persistence","text":"<p>By default, the container does not persist blockchain data between restarts. Each time you stop and start the container, you get a fresh blockchain with 101 blocks and a funded faucet wallet.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#persistent-data-locations-inside-container","level":3,"title":"Persistent Data Locations (inside container)","text":"<ul> <li>Bitcoin data: <code>/root/.bitcoin/regtest/</code></li> <li>Electrs data: <code>/root/.electrs/</code> (created at runtime)</li> <li>Logs: <code>/root/log/</code></li> </ul>","path":["Architecture"],"tags":[]},{"location":"architecture/#network-isolation","level":2,"title":"Network Isolation","text":"<p>The container runs on Podman's default network. Services are exposed to the host through port mappings but are not directly accessible from other machines on your network unless you configure additional port forwarding.</p>","path":["Architecture"],"tags":[]},{"location":"architecture/#logging","level":2,"title":"Logging","text":"<p>All services log to <code>/root/log/</code> inside the container:</p> Service Log File Access Command Bitcoin Core <code>bitcoin.log</code> <code>just bitcoindlogs</code> Electrs (Esplora + Electrum) <code>esplora.log</code> <code>just esploralogs</code> Block Explorer <code>fbbe.log</code> <code>just explorerlogs</code> All services All files <code>just logs</code>","path":["Architecture"],"tags":[]},{"location":"architecture/#security-considerations","level":2,"title":"Security Considerations","text":"<p>This environment is designed for local development only:</p> <ul> <li>Services bind to <code>0.0.0.0</code> inside the container (all interfaces)</li> <li>No authentication on Electrum/Esplora/Explorer services</li> <li>Cookie file is world-readable inside the container</li> <li>Not suitable for production or public exposure</li> <li>Do not use real Bitcoin private keys or mainnet data</li> </ul>","path":["Architecture"],"tags":[]},{"location":"architecture/#extending-the-environment","level":2,"title":"Extending the Environment","text":"","path":["Architecture"],"tags":[]},{"location":"architecture/#adding-custom-bitcoin-core-configuration","level":3,"title":"Adding Custom Bitcoin Core Configuration","text":"<p>Edit the <code>start-services.sh</code> script to add flags to the <code>bitcoind</code> command:</p> <pre><code>bitcoind --chain=regtest \\\n  --txindex \\\n  --blockfilterindex \\\n  --peerblockfilters \\\n  --rpcbind=0.0.0.0 \\\n  --rpcallowip=0.0.0.0/0 \\\n  --rpcport=18443 \\\n  --rest \\\n  --printtoconsole \\\n  --maxmempool=50 \\  # Add custom options\n  &gt; ~/log/bitcoin.log 2&gt;&amp;1 &amp;\n</code></pre>","path":["Architecture"],"tags":[]},{"location":"architecture/#adding-additional-services","level":3,"title":"Adding Additional Services","text":"<p>You can modify the Containerfile to install additional tools:</p> <ol> <li>Install dependencies in the <code>RUN apt-get install</code> section</li> <li>Build/install your service</li> <li>Add startup commands to <code>start-services.sh</code></li> <li>Expose additional ports in the container create command</li> </ol>","path":["Architecture"],"tags":[]},{"location":"architecture/#version-updates","level":3,"title":"Version Updates","text":"<p>To use a different Bitcoin Core version:</p> <pre><code># Rebuild with different version\npodman --connection regtest build \\\n  --build-arg BITCOIN_VERSION=27.0 \\\n  --build-arg TARGET_ARCH=x86_64-linux-gnu \\\n  --tag localhost/regtest:v0.1.0 \\\n  --file ./Containerfile\n</code></pre> <p>Then recreate the container with the new image.</p>","path":["Architecture"],"tags":[]},{"location":"ci/","level":1,"title":"Using in CI/CD Pipelines","text":"<p>The Podman Regtest Infinity Pro publishes pre-built container images to the GitHub Container Registry, making it easy to use in your CI/CD pipelines without the overhead of building from source.</p>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#quick-start","level":2,"title":"Quick Start","text":"<p>Pull and run the latest pre-built image:</p> <pre><code># Using Docker\ndocker pull ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.3.0\ndocker run -d -p 18443:18443 -p 18444:18444 -p 3002:3002 -p 3003:3003 -p 60401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.3.0\n\n# Using Podman\npodman pull ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.3.0\npodman run -d -p 18443:18443 -p 18444:18444 -p 3002:3002 -p 3003:3003 -p 60401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.3.0\n</code></pre>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#github-actions","level":2,"title":"GitHub Actions","text":"<p>Use the pre-built container as a service in your GitHub Actions workflow:</p> <pre><code>name: Test with Bitcoin Regtest\n\non: [push, pull_request]\n\njobs:\n  test-with-regtest:\n    runs-on: ubuntu-24.04\n\n    services:\n      bitcoin-regtest:\n        image: ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:0.3.0\n        ports:\n          - 18443:18443\n          - 18444:18444\n          - 3002:3002\n          - 3003:3003\n          - 60401:60401\n        # The container initialization step will wait until everything is ready before allowing other steps to run\n        options: &gt;-\n          --health-cmd \"test $(bitcoin-cli -regtest -rpcuser=regtest -rpcpassword=password getblockcount) -gt 0\"\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 6\n\n    steps:\n      - name: Test Bitcoin RPC\n        run: |\n          echo \"Testing connection to Bitcoin regtest node...\"\n          curl --user regtest:password --data-binary '{\"jsonrpc\":\"1.0\",\"id\":\"test\",\"method\":\"getblockchaininfo\",\"params\":[]}' \\\n            -H 'content-type: text/plain;' http://localhost:18443/ | jq\n\n      - name: Run your tests here\n        run: |\n          echo \"This is where you would run your actual test suite\"\n          echo \"The regtest environment is fully operational!\"\n</code></pre> <p>Always pin to a specific full version in production:</p> <pre><code>services:\n  bitcoin-regtest:\n    image: ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:0.3.0\n</code></pre>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#available-services","level":2,"title":"Available Services","text":"<p>Once the container is running, the following services are available:</p> Service Port Description Bitcoin Core RPC 18443 JSON-RPC interface for bitcoin-cli Bitcoin P2P 18444 Peer-to-peer network port Esplora 3002 REST API for blockchain queries Block Explorer 3003 Web-based block explorer Electrum 60401 Electrum protocol server","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#default-configuration","level":2,"title":"Default Configuration","text":"<p>The container starts with: - Bitcoin Core running in regtest mode - Username: <code>regtest</code>, password: <code>password</code> - Faucet wallet with 101 blocks pre-mined (mature coins ready to spend) - Compact block filters enabled - All services started automatically</p>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#benefits-of-pre-built-images","level":2,"title":"Benefits of Pre-built Images","text":"<ul> <li>Fast: No compilation time - just pull and run</li> <li>Reproducible: Same environment across all developers and CI runs</li> <li>Resource-efficient: Save CI minutes by skipping the build step</li> <li>Reliable: Images are built and tested before publishing</li> </ul>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"ci/#building-your-own-images","level":2,"title":"Building Your Own Images","text":"<p>If you need a custom configuration or different Bitcoin Core version, you can still build from source. See the main README for build instructions.</p>","path":["Using in CI/CD Pipelines"],"tags":[]},{"location":"docker-usage/","level":1,"title":"Using Pre-built Docker Images","text":"<p>This guide shows how to use the pre-built images for local development and testing.</p>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#quick-start","level":2,"title":"Quick Start","text":"<pre><code># Pull the image\ndocker pull ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\n\n# Create the container\ndocker create --name RegtestInfinityPro \\\n  --publish 18443:18443 \\\n  --publish 18444:18444 \\\n  --publish 3002:3002 \\\n  --publish 3003:3003 \\\n  --publish 60401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\n\n# Start the container\ndocker start RegtestInfinityPro\n\n# Wait ~15 seconds for services to start\nsleep 15\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#using-the-just-command-runner","level":2,"title":"Using the Just Command Runner","text":"<p>For the best experience, use the provided justfile which wraps all common commands:</p>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#setup","level":3,"title":"Setup","text":"<pre><code># Download the Docker-compatible justfile\ncurl -O https://raw.githubusercontent.com/thunderbiscuit/podman-regtest-infinity-pro/master/justfile-docker\n\n# Rename it to 'justfile'\nmv justfile-docker justfile\n\n# Install just if you don't have it\n# macOS: brew install just\n# Linux: cargo install just\n# See: https://github.com/casey/just\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#available-commands","level":3,"title":"Available Commands","text":"<p>Once you have the justfile, run <code>just</code> to see all available commands:</p> <pre><code>$ just\n\nAvailable recipes:\n    [Container]\n    default        # List all available commands\n    pull           # Pull the latest image from ghcr.io\n    start          # Create and start the regtest container\n    stop           # Stop the regtest container\n    remove         # Remove the container (keeps the image)\n    shell          # Enter the shell in the container\n    explorer       # Open the block explorer\n\n    [Docs]\n    services       # List the available services and their endpoints\n\n    [Bitcoin Core]\n    cookie         # Print the current session cookie to console\n    mine           # Mine a block, or mine &lt;BLOCKS&gt; number of blocks\n    mineandsendrewardto # Send mining reward to &lt;ADDRESS&gt;\n    cli            # Send a command to bitcoin-cli\n\n    [Logs]\n    logs           # Print all logs to console\n    bitcoindlogs   # Print bitcoin daemon logs to console\n    esploralogs    # Print Esplora logs to console\n    explorerlogs   # Print block explorer logs to console\n\n    [Faucet]\n    faucet         # Send bitcoin from the faucet wallet to ADDRESS\n    faucetbalance  # Print the balance of the faucet wallet\n\n    [Default Wallet]\n    createwallet   # Create a default wallet\n    loadwallet     # Load the default wallet\n    newaddress     # Print an address from the default wallet\n    walletbalance  # Print the balance of the default wallet\n    sendto         # Send bitcoin to ADDRESS using the default wallet\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#example-workflow","level":3,"title":"Example Workflow","text":"<pre><code># Start the container\njust start\n\n# Create a wallet\njust createwallet\n\n# Get a new address\nADDRESS=$(just newaddress)\n\n# Get funds from the faucet (already has mature coins)\njust faucet $ADDRESS 5\n\n# Mine a block to confirm the transaction\njust mine 1\n\n# Check balance\njust walletbalance\n\n# View logs\njust bitcoindlogs\n\n# Open block explorer\njust explorer\n\n# Stop when done\njust stop\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#manual-commands-without-just","level":2,"title":"Manual Commands (Without Just)","text":"<p>If you prefer not to use just, here are the manual Docker commands:</p>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#mining-blocks","level":3,"title":"Mining Blocks","text":"<pre><code># Get the authentication cookie\nCOOKIE=$(docker exec RegtestInfinityPro cat /root/.bitcoin/regtest/.cookie | cut -d ':' -f2)\n\n# Mine 1 block\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  -generate 1\n\n# Mine 10 blocks\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  -generate 10\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#running-bitcoin-cli-commands","level":3,"title":"Running bitcoin-cli Commands","text":"<pre><code>COOKIE=$(docker exec RegtestInfinityPro cat /root/.bitcoin/regtest/.cookie | cut -d ':' -f2)\n\n# Get blockchain info\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  getblockchaininfo\n\n# Get network info\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  getnetworkinfo\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#creating-and-using-a-wallet","level":3,"title":"Creating and Using a Wallet","text":"<pre><code>COOKIE=$(docker exec RegtestInfinityPro cat /root/.bitcoin/regtest/.cookie | cut -d ':' -f2)\n\n# Create wallet\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  createwallet podmanwallet\n\n# Get new address\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  -rpcwallet=podmanwallet \\\n  getnewaddress\n\n# Check balance\ndocker exec RegtestInfinityPro bitcoin-cli \\\n  --chain=regtest \\\n  --rpcuser=__cookie__ \\\n  --rpcpassword=\"$COOKIE\" \\\n  -rpcwallet=podmanwallet \\\n  getbalance\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#viewing-logs","level":3,"title":"Viewing Logs","text":"<pre><code># All container output\ndocker logs RegtestInfinityPro\n\n# Bitcoin Core logs (follow)\ndocker exec -it RegtestInfinityPro tail -f /root/log/bitcoin.log\n\n# Esplora logs (follow)\ndocker exec -it RegtestInfinityPro tail -f /root/log/esplora.log\n\n# Block explorer logs (follow)\ndocker exec -it RegtestInfinityPro tail -f /root/log/fbbe.log\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#accessing-services","level":3,"title":"Accessing Services","text":"Service URL Description Bitcoin RPC http://localhost:18443 JSON-RPC interface Esplora http://localhost:3002 REST API for blockchain data Block Explorer http://localhost:3003 Web UI Electrum tcp://localhost:60401 Electrum protocol server","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#container-management","level":2,"title":"Container Management","text":"","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#starting-and-stopping","level":3,"title":"Starting and Stopping","text":"<pre><code># Start\ndocker start RegtestInfinityPro\n\n# Stop\ndocker stop RegtestInfinityPro\n\n# Restart (fresh blockchain)\ndocker stop RegtestInfinityPro\ndocker rm RegtestInfinityPro\ndocker create --name RegtestInfinityPro \\\n  --publish 18443:18443 \\\n  --publish 18444:18444 \\\n  --publish 3002:3002 \\\n  --publish 3003:3003 \\\n  --publish 60401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\ndocker start RegtestInfinityPro\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#persistent-data","level":3,"title":"Persistent Data","text":"<p>By default, the container does not persist data. To keep blockchain data between restarts:</p> <pre><code># Create a volume\ndocker volume create bitcoin-regtest-data\n\n# Create container with volume\ndocker create --name RegtestInfinityPro \\\n  --publish 18443:18443 \\\n  --publish 18444:18444 \\\n  --publish 3002:3002 \\\n  --publish 3003:3003 \\\n  --publish 60401:60401 \\\n  --volume bitcoin-regtest-data:/root/.bitcoin \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#troubleshooting","level":2,"title":"Troubleshooting","text":"","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#services-not-ready","level":3,"title":"Services Not Ready","text":"<p>Wait 15-20 seconds after starting the container for all services to initialize:</p> <pre><code>docker start RegtestInfinityPro\nsleep 15\n\n# Test if services are ready\ncurl http://localhost:3002/blocks/tip/height\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#port-already-in-use","level":3,"title":"Port Already in Use","text":"<p>If ports are already bound:</p> <pre><code># Find what's using the port\nlsof -i :18443\n\n# Use different host ports\ndocker create --name RegtestInfinityPro \\\n  --publish 28443:18443 \\\n  --publish 28444:18444 \\\n  --publish 13002:3002 \\\n  --publish 13003:3003 \\\n  --publish 50401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#container-wont-start","level":3,"title":"Container Won't Start","text":"<p>Check logs for errors:</p> <pre><code>docker logs RegtestInfinityPro\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"docker-usage/#using-with-podman","level":2,"title":"Using with Podman","text":"<p>The image works with Podman too - just replace <code>docker</code> with <code>podman</code>:</p> <pre><code>podman pull ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\npodman create --name RegtestInfinityPro \\\n  --publish 18443:18443 \\\n  --publish 18444:18444 \\\n  --publish 3002:3002 \\\n  --publish 3003:3003 \\\n  --publish 60401:60401 \\\n  ghcr.io/thunderbiscuit/podman-regtest-infinity-pro:v0.1.0\npodman start RegtestInfinityPro\n</code></pre>","path":["Using Pre-built Docker Images"],"tags":[]},{"location":"install/","level":1,"title":"Install","text":"<p>Info</p> <p>The Using Podman Containers for Regtest Bitcoin Development blog post has all the details on Podman, machines, images, and containers.</p> <p>First, make sure you have Podman and just installed on your computer.</p> <p>Then create a directory called <code>podman</code> somewhere on your machine and clone the repo:</p> <pre><code>mkdir ~/podman/\ngit clone https://github.com/thunderbiscuit/podman-regtest-infinity-pro.git\n</code></pre> <p>Make sure you have a podman machine enabled with sufficient resources.</p> <p>Minimum Machine Requirements</p> <p>Building this container requires compiling two Rust projects (electrs and fbbe) from source, which generates several gigabytes of build artifacts. The minimum recommended machine configuration is:</p> <ul> <li>CPUs: 4</li> <li>Memory: 4096 MB (4 GB)</li> <li>Disk Size: 20 GB minimum</li> </ul> <p>The build process includes cleanup steps to remove intermediate build artifacts and keep disk usage under 20GB. If you experience \"no space left on device\" errors during the build, try increasing the disk size to 50GB or cleaning up old images with <code>podman system prune -a</code>.</p> <pre><code># Create a machine called regtest\npodman machine init --cpus 4 --memory 4096 --disk-size 20 regtest\n</code></pre> <p>Get into the container's directory and build the container. Note that you must specify a <code>BITCOIN_VERSION</code> and <code>TARGET_ARCH</code> to use the bitcoin core version you need using the <code>--build-arg</code> argument on the <code>podman</code> command.</p> <pre><code>cd regtest-in-a-pod/\npodman machine start regtest\npodman --connection regtest build --build-arg BITCOIN_VERSION=28.1 --build-arg TARGET_ARCH=x86_64-linux-gnu --tag localhost/regtest-infinity-pro:0.3.0 --file ./Containerfile\npodman --connection regtest create --name RegtestInfinityPro --publish 18443:18443 --publish 18444:18444 --publish 3002:3002 --publish 3003:3003 --publish 60401:60401 localhost/regtest-infinity-pro:0.3.0\n\n# Delete all intermediate images not required by the machine anymore\npodman --connection regtest image prune -a\n</code></pre> <p>You're now ready to start using the container! See the Usage page for all the details.</p>","path":["Install"],"tags":[]},{"location":"usage/","level":1,"title":"Usage","text":"<p>Start the podman machine and <code>RegtestInfinityPro</code> container to fire up all services:</p> <pre><code>cd ~/podman/podman-regtest-infinity-pro/\njust start\n\n# Alternatively, use\npodman machine start regtest\npodman start RegtestInfinityPro\n</code></pre> <p>Once started, the container runs four services automatically:</p> <ul> <li>Bitcoin Core daemon (listening on port <code>18443</code>)</li> <li>Electrum server (listening on port <code>60401</code>)</li> <li>Esplora server (listening on port <code>3002</code>)</li> <li>Fast Bitcoin Block Explorer (listening on port <code>3003</code>)</li> </ul> <p>The container also automatically creates a faucet wallet and mines 101 blocks to it on startup. This provides mature coins that can be instantly sent to any address without needing to mine additional blocks for coinbase maturity.</p>","path":["Usage"],"tags":[]},{"location":"usage/#quick-start-tutorial","level":2,"title":"Quick Start Tutorial","text":"<p>Here's a complete workflow to get you started:</p> <pre><code># Start the environment\njust start\n\n# Create a wallet\njust createwallet\n\n# Get a new address\njust newaddress\n# Output: bcrt1qxy2kgd...\n\n# Get funds from the faucet (already has mature coins)\njust faucet bcrt1qxy2kgd... 5\n\n# Mine a block to confirm the faucet transaction\njust mine 1\n\n# Check your wallet balance\njust walletbalance\n# Output: 5.00000000\n\n# Send bitcoin to another address\njust sendto bcrt1qtest...\n\n# Mine a block to confirm the transaction\njust mine 1\n\n# View the block explorer\njust explorer\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#available-commands-reference","level":2,"title":"Available Commands Reference","text":"<p>List all available commands:</p> <pre><code>$ just\nAvailable recipes:\n    [Podman]\n    default                    # List all available commands.\n    services                   # List the available services and their endpoints.\n    start                      # Start your podman machine and regtest environment.\n    stop                       # Stop your podman machine and regtest environment.\n    podshell                   # Enter the shell in the pod.\n    explorer                   # Open the block explorer.\n\n    [Bitcoin Core]\n    cookie                     # Print the current session cookie to console.\n    mine BLOCKS=\"1\"            # Mine a block, or mine &lt;BLOCKS&gt; number of blocks.\n    sendminingrewardto ADDRESS # Send mining reward to &lt;ADDRESS&gt;\n    cli COMMAND                # Send a command to bitcoin-cli\n\n    [Logs]\n    logs                       # Print all logs to console.\n    bitcoindlogs               # Print bitcoin daemon logs to console.\n    esploralogs                # Print Esplora logs to console.\n    explorerlogs               # Print block explorer logs to console.\n\n    [Docs]\n    servedocs                  # Serve the local docs.\n    docs                       # Open the website for docs.\n\n    [Faucet]\n    faucet ADDRESS AMOUNT=\"1\"  # Send bitcoin from the faucet wallet to ADDRESS.\n    faucetbalance              # Print the balance of the faucet wallet.\n\n    [Default Wallet]\n    createwallet               # Create a default wallet.\n    loadwallet                 # Load the default wallet.\n    newaddress                 # Print an address from the default wallet.\n    walletbalance              # Print the balance of the default wallet.\n    sendto ADDRESS             # Send 1 bitcoin to ADDRESS using the default wallet.\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#container-management","level":2,"title":"Container Management","text":"","path":["Usage"],"tags":[]},{"location":"usage/#starting-and-stopping","level":3,"title":"Starting and Stopping","text":"<pre><code># Start the environment\njust start\n\n# Stop the environment gracefully\njust stop\n\n# Check available services and their endpoints\njust services\n</code></pre> <p>Example output from <code>just services</code>: <pre><code>Electrum server:                       tcp://127.0.0.1:60401\nEsplora server:                        http://127.0.0.1:3002\nElectrum server (Android emulators):   tcp://10.0.2.2:60401\nEsplora server  (Android emulators):   http://10.0.2.2:3002\nFast Bitcoin Block Explorer:           http://127.0.0.1:3003\n</code></pre></p>","path":["Usage"],"tags":[]},{"location":"usage/#accessing-the-container","level":3,"title":"Accessing the Container","text":"<pre><code># Enter the container shell\njust podshell\n\n# Once inside, you can access bitcoin-cli directly\nbitcoin-cli --chain=regtest getblockchaininfo\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#working-with-bitcoin-core","level":2,"title":"Working with Bitcoin Core","text":"","path":["Usage"],"tags":[]},{"location":"usage/#mining-blocks","level":3,"title":"Mining Blocks","text":"<pre><code># Mine a single block\njust mine\n\n# Mine multiple blocks\njust mine 10\n\n# Mine a block and send the reward to a specific address\njust mineandsendrewardto bcrt1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#using-bitcoin-cli-commands","level":3,"title":"Using bitcoin-cli Commands","text":"<p>You can execute any bitcoin-cli command using the <code>just cli</code> command:</p> <pre><code># Get blockchain information\njust cli getblockchaininfo\n\n# Get network information\njust cli getnetworkinfo\n\n# List all wallets\njust cli listwallets\n\n# Get mempool information\njust cli getmempoolinfo\n\n# Get a new address (requires wallet to be loaded)\njust cli -rpcwallet=podmanwallet getnewaddress\n\n# Send a raw transaction\njust cli sendrawtransaction &lt;hex&gt;\n\n# Get block hash by height\njust cli getblockhash 1\n\n# Get block information\njust cli getblock &lt;blockhash&gt;\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#using-the-faucet-wallet","level":2,"title":"Using the Faucet Wallet","text":"<p>The container automatically creates a <code>faucet</code> wallet on startup with mature coins ready to spend. This is the recommended way to fund your test wallets.</p>","path":["Usage"],"tags":[]},{"location":"usage/#why-use-the-faucet","level":3,"title":"Why Use the Faucet?","text":"<p>Mining blocks to get coins requires waiting for coinbase maturity (100 blocks). The faucet wallet already has mature coins from startup, so you can get funds instantly with just one confirmation block.</p> <p>Without faucet (slow): <pre><code>just mineandsendrewardto &lt;your-address&gt;\njust mine 100  # Wait for coinbase maturity\n</code></pre></p> <p>With faucet (fast): <pre><code>just faucet &lt;your-address&gt; 5\njust mine 1  # Just confirm the transaction\n</code></pre></p>","path":["Usage"],"tags":[]},{"location":"usage/#faucet-commands","level":3,"title":"Faucet Commands","text":"<pre><code># Send 1 BTC (default) to an address\njust faucet bcrt1qxy2kgd...\n\n# Send a specific amount\njust faucet bcrt1qxy2kgd... 10\n\n# Check faucet balance\njust faucetbalance\n</code></pre> <p>The faucet starts with approximately 50 BTC of spendable coins from the initial 101 mined blocks.</p>","path":["Usage"],"tags":[]},{"location":"usage/#working-with-the-default-wallet","level":2,"title":"Working with the Default Wallet","text":"<p>The environment supports creating and using a default wallet called <code>podmanwallet</code>.</p>","path":["Usage"],"tags":[]},{"location":"usage/#wallet-setup","level":3,"title":"Wallet Setup","text":"<pre><code># Create the default wallet (only needed once)\njust createwallet\n\n# Load the wallet (if it already exists)\njust loadwallet\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#wallet-operations","level":3,"title":"Wallet Operations","text":"<pre><code># Generate a new receiving address\njust newaddress\n# Example output: bcrt1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh\n\n# Check wallet balance\njust walletbalance\n# Example output: 50.00000000\n\n# Send 0.12345678 BTC to an address\njust sendto bcrt1qtest...\n# Note: The sendto command sends 0.12345678 BTC with a fee rate of 4 sat/vB\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#complete-wallet-workflow-example","level":3,"title":"Complete Wallet Workflow Example","text":"<pre><code># Create and load wallet\njust createwallet\n\n# Generate an address\nADDRESS=$(just newaddress)\necho \"Address: $ADDRESS\"\n\n# Get funds from the faucet (coins are already mature, no need to mine 101 blocks)\njust faucet $ADDRESS 10\n\n# Mine a block to confirm the faucet transaction\njust mine 1\n\n# Check balance\njust walletbalance\n\n# Send funds somewhere else\njust sendto bcrt1qrecipient...\n\n# Mine a block to confirm\njust mine 1\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#viewing-logs","level":2,"title":"Viewing Logs","text":"<p>Monitor what's happening inside the container:</p> <pre><code># View all container logs\njust logs\n\n# Follow Bitcoin Core logs in real-time\njust bitcoindlogs\n\n# Follow Esplora server logs\njust esploralogs\n\n# Follow block explorer logs\njust explorerlogs\n</code></pre> <p>To exit from log following (when using <code>tail -f</code>), press <code>Ctrl+c</code>.</p>","path":["Usage"],"tags":[]},{"location":"usage/#using-the-services","level":2,"title":"Using the Services","text":"","path":["Usage"],"tags":[]},{"location":"usage/#block-explorer","level":3,"title":"Block Explorer","text":"<p>Open the Fast Bitcoin Block Explorer in your browser:</p> <pre><code>just explorer\n</code></pre> <p>This opens <code>http://127.0.0.1:3003</code> where you can browse blocks, transactions, and addresses.</p>","path":["Usage"],"tags":[]},{"location":"usage/#electrum-server","level":3,"title":"Electrum Server","text":"<p>Connect your Electrum wallet or any SPV client to: <pre><code>tcp://127.0.0.1:60401\n</code></pre></p> <p>For Android emulators, use: <pre><code>tcp://10.0.2.2:60401\n</code></pre></p>","path":["Usage"],"tags":[]},{"location":"usage/#esplora-server","level":3,"title":"Esplora Server","text":"<p>The Esplora REST API is available at:</p> <pre><code>http://127.0.0.1:3002\n</code></pre> <p>Example API calls:</p> <pre><code># Get blockchain tip\ncurl http://127.0.0.1:3002/blocks/tip/height\n\n# Get block by hash\ncurl http://127.0.0.1:3002/block/&lt;blockhash&gt;\n\n# Get address info\ncurl http://127.0.0.1:3002/address/&lt;address&gt;\n\n# Get transaction\ncurl http://127.0.0.1:3002/tx/&lt;txid&gt;\n</code></pre> <p>For Android emulators, use:</p> <pre><code>http://10.0.2.2:3002\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#advanced-usage","level":2,"title":"Advanced Usage","text":"","path":["Usage"],"tags":[]},{"location":"usage/#getting-the-authentication-cookie","level":3,"title":"Getting the Authentication Cookie","text":"<p>Bitcoin Core uses cookie authentication. To get the current session cookie:</p> <pre><code>just cookie\n</code></pre> <p>You can use this cookie to authenticate RPC calls from outside the container:</p> <pre><code>COOKIE=$(just cookie)\nbitcoin-cli --chain=regtest --rpcuser=__cookie__ --rpcpassword=$COOKIE getblockchaininfo\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#custom-bitcoin-cli-commands","level":3,"title":"Custom bitcoin-cli Commands","text":"<p>Execute any bitcoin-cli command with custom RPC wallet:</p> <pre><code># Create a new wallet\njust cli \"createwallet \"myotherwallet\"\"\n\n# Use that wallet\njust cli \"-rpcwallet=myotherwallet getnewaddress\"\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#creating-local-custom-commands","level":3,"title":"Creating Local Custom Commands","text":"<p>You can extend the <code>justfile</code> with your own custom commands that won't be committed to the repository.</p> <p>Create a <code>justfile.local</code> file in the project root:</p> <pre><code>touch justfile.local\n</code></pre> <p>Add it to <code>.gitignore</code> so it stays local:</p> <pre><code>echo \"justfile.local\" &gt;&gt; .gitignore\n</code></pre> <p>Then add your custom commands to <code>justfile.local</code>. For example:</p> <pre><code># Check the health of all services\n@ping:\n  #!/usr/bin/env bash\n  if podman --connection regtest ps --format \"{{{{.Names}}}}\" | grep -q \"^RegtestInfinityPro$\"; then\n    echo \"✓ Container running\"\n  else\n    echo \"✗ Container not running\"\n  fi\n</code></pre> <p>Important: In justfiles, Go template syntax like <code>{{.Names}}</code> must be escaped by doubling the braces: <code>{{{{.Names}}}}</code>. This tells <code>just</code> to treat them as literal braces rather than variable interpolation.</p> <p>The main <code>justfile</code> already imports <code>justfile.local</code> (if it exists), so all your custom commands will appear when you run <code>just --list</code>.</p>","path":["Usage"],"tags":[]}]}